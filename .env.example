# Environment configuration for the RAG backend service.
# Copy this file to `.env` and adjust values as needed.

# Runtime environment name (development, staging, production, etc.).
APP_ENV=development

# Logging verbosity for structlog/uvicorn.
LOG_LEVEL=INFO

# Backend semantic version surfaced via /healthz.
APP_VERSION=0.1.0

# Connection string for the application Postgres database (docker-compose default).
POSTGRES_URL=postgresql+psycopg://postgres:postgres@postgres:5432/postgres

# Primary database URL consumed by SQLAlchemy and Alembic commands.
DATABASE_URL=postgresql+psycopg://postgres:postgres@postgres:5432/postgres

# Maximum connection pool size for the SQLAlchemy engine.
DB_POOL_SIZE=10

# Base URL for the Qdrant vector database service.
QDRANT_URL=http://qdrant:6333

# API key for Qdrant (leave blank for local development).
QDRANT_API_KEY=

# Primary embedding model for Ollama-compatible service.
EMBEDDING_MODEL=nomic-embed-text

# Comma-separated fallback embedding models to try if primary fails.
EMBEDDING_FALLBACK_MODELS=

# Base URL for the Ollama embedding service endpoint.
OLLAMA_BASE_URL=http://ollama:11434

# Dimensionality for vector embeddings.
VECTOR_DIM=1536

# Timeout (seconds) for vector store operations.
VECTOR_TIMEOUT_SECONDS=10.0

# Root directory for local ingestion assets.
LOCAL_INGEST_ROOT=./data

# Chunking parameters for document ingestion.
CHUNK_SIZE=400
CHUNK_OVERLAP=40

# Default tenant identifier for ingestion CLI when not specified.
INGEST_DEFAULT_TENANT=default

# Static API key required for /admin endpoints. Replace for non-local deployments.
ADMIN_API_KEY=changeme

# Retrieval configuration
RETRIEVAL_TOP_K_DEFAULT=8
RETRIEVAL_SCORE_FLOOR=0.35
RETRIEVAL_SCORE_CEILING=0.95
RETRIEVAL_DIAGNOSTICS=false

# Application secrets should live in a secure secrets manager; override these defaults per deployment.
